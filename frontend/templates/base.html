<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="خزنتي - تطبيق التخزين السحابي الجزائري | Your Algerian-Friendly Cloud Drive">
    <meta name="theme-color" content="#0a0a0f">

    <!-- Preconnect to fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Fonts: Cairo for Arabic, Inter for Latin -->
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">

    <!-- Main CSS -->
    <link rel="stylesheet" href="/static/css/main.css">

    <title>{% block title %}خزنتي{% endblock %} | Khaznati DZ</title>

    {% block head %}{% endblock %}
</head>

<body class="dark-mode">
    <!-- Skip to main content (accessibility) -->
    <a href="#main-content" class="skip-link">تخطي إلى المحتوى الرئيسي</a>

    {% block body %}
    <!-- Header -->
    <header class="app-header">
        <div class="header-container">
            <!-- Logo -->
            <a href="/" class="logo">
                <img src="/static/images/logo.svg" alt="Khaznati DZ" class="logo-image">
                <span class="logo-text">خزنتي</span>
            </a>

            <!-- Navigation -->
            <nav class="main-nav">
                {% block nav %}{% endblock %}
            </nav>

            <!-- Header Actions -->
            <div class="header-actions">
                <!-- Language Switcher -->
                <div class="language-switcher">
                    <button class="lang-btn" id="lang-toggle" aria-label="تغيير اللغة">
                        <span class="current-lang">عربي</span>
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="lang-dropdown" id="lang-dropdown">
                        <button class="lang-option active" data-lang="ar">العربية</button>
                        <button class="lang-option" data-lang="fr">Français</button>
                        <button class="lang-option" data-lang="en">English</button>
                    </div>
                </div>

                {% block header_actions %}{% endblock %}
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="القائمة">
                <span class="hamburger"></span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="main-content">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-container">
            <div class="footer-brand">
                <span class="footer-logo">خزنتي</span>
                <p class="footer-tagline">تخزينك السحابي الجزائري</p>
            </div>

            <div class="footer-links">
                <a href="/privacy">الخصوصية</a>
                <a href="/terms">الشروط</a>
                <a href="/contact">تواصل معنا</a>
            </div>

            <div class="footer-copyright">
                <p>&copy; 2026 Khaznati DZ. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>
    {% endblock %}

    <!-- Toast Notifications Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
    </div>

    <!-- Base JavaScript -->
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/i18n.js"></script>
    <script src="/static/js/app.js"></script>

    {% block scripts %}{% endblock %}
</body>

</html>